(this.webpackJsonpcandlestick_chart_test=this.webpackJsonpcandlestick_chart_test||[]).push([[0],{161:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),i=a.n(r),l=(a(79),a(27)),c=a.n(l),s=a(53),u=a(19),d=(a(81),a(54)),h=a.n(d),m=a(55),p=a.n(m),f=a(12),g=a.n(f);a(83);function v(e){var t=e.symbol,a=e.data,n=[["week",[1]],["month",[1,2,3,4,6]]],r=[],i=[],l=[],c=[],s=[],u=[];a.K1.map((function(e,t){r.push([g()(e.date).valueOf(),e.open,e.high,e.low,e.close]);var n="#000",o=0===t?t:t-1;e.close>a.K1[o].close&&0!==t?n="red":e.close<a.K1[o].close&&0!==t&&(n="green"),u.push({x:g()(e.date).valueOf(),y:e.volume,color:n})})),a.K5.map((function(e){i.push([g()(e.date).valueOf(),e.close]),c.push([g()(e.date).valueOf(),e.volume/5])})),a.K20.map((function(e){l.push([g()(e.date).valueOf(),e.close]),s.push([g()(e.date).valueOf(),e.volume/20])}));var d={chart:{height:"700px"},legend:{enabled:!0,align:"left",verticalAlign:"top"},rangeSelector:{selected:1},title:{useHTML:!0,text:t,style:{fontSize:"3vw"}},yAxis:[{labels:{align:"right",x:-3},title:{text:"OHLC"},height:"60%",lineWidth:2,resize:{enabled:!0}},{labels:{align:"right",x:-3},title:{text:"Volume"},top:"65%",height:"35%",offset:0,lineWidth:2}],tooltip:{split:!0},series:[{name:"MA5",type:"line",data:i,lineWidth:1},{name:"MA20",type:"line",data:l,lineWidth:1},{type:"candlestick",name:t,data:r,dataGrouping:{enabled:!1,units:n}},{name:"VOL5",type:"line",data:c,yAxis:1,lineWidth:1},{name:"VOL20",type:"line",data:s,yAxis:1,lineWidth:1},{type:"column",name:"Volume",data:u,yAxis:1,turboThreshold:Number.MAX_VALUE,dataGrouping:{enabled:!1,units:n}}],credits:{enabled:!1}};return a.K1.length>0?o.a.createElement(p.a,{highcharts:h.a,constructorType:"stockChart",options:d}):o.a.createElement("div",null,"Please ipnut a symbol")}var b=a(165),y=a(164),x=a(56),w=a.n(x).a.create({baseURL:"https://cors-anywhere.herokuapp.com/https://dfj.com.tw:10050/api/"}),O=function(e){return w.get("/stock-historical-data/",{params:e})},k=(a(100),b.a.Search);var E=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),l=Object(u.a)(i,2),d=l[0],h=l[1],m=Object(n.useState)({K1:[],K5:[],K20:[]}),p=Object(u.a)(m,2),f=p[0],g=p[1],b=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,O({symbol:t,time:1});case 4:return a=e.sent,e.next=7,O({symbol:t,time:2});case 7:return n=e.sent,e.next=10,O({symbol:t,time:3});case 10:o=e.sent,g({K1:a.data.data.items,K5:n.data.data.items,K20:o.data.data.items}),h(t),r(!1),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),r(!1),alert("network error or symbol error ".concat(t)),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();function x(e){return e.isfetch?o.a.createElement("div",{style:{position:"fixed",top:"0px",left:"0px",backgroundColor:"#FFF",opacity:.7,height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(y.a,{size:"large",tip:"Loading..."})):o.a.createElement("div",null)}return Object(n.useEffect)((function(){}),[]),o.a.createElement("div",{style:{padding:"2em",height:"99%"}},o.a.createElement(k,{placeholder:"symbol",onSearch:function(e){return b(e)},enterButton:!0}),o.a.createElement(v,{symbol:d,data:f}),o.a.createElement(x,{isfetch:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){e.exports=a(161)},79:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.122caf6e.chunk.js.map